import{_ as e}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as c,c as a,f as s}from"./app.4d667c68.js";const n={},r=s('<h1 id="sequence\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#sequence\u7528\u6CD5" aria-hidden="true">#</a> sequence\u7528\u6CD5</h1><p>\u5728oracle\u4E2Dsequence\u5C31\u662F\u6240\u8C13\u7684\u5E8F\u5217\u53F7\uFF0C\u6BCF\u6B21\u53D6\u7684\u65F6\u5019\u5B83\u4F1A\u81EA\u52A8\u589E\u52A0\uFF0C\u4E00\u822C\u7528\u5728\u9700\u8981\u6309 \u5E8F\u5217\u53F7\u6392\u5E8F\u7684\u5730\u65B9\u3002</p><h4 id="_1\u3001-create-sequence" tabindex="-1"><a class="header-anchor" href="#_1\u3001-create-sequence" aria-hidden="true">#</a> 1\u3001 create sequence</h4><p>\u4F60\u9996\u5148\u8981\u6709create sequence\u6216\u8005create any sequence\u6743\u9650\uFF0C create sequence emp_sequence INCREMENT BY 1 -- \u6BCF\u6B21\u52A0\u51E0\u4E2A START WITH 1 -- \u4ECE1\u5F00\u59CB\u8BA1\u6570 NOMAXVALUE -- \u4E0D\u8BBE\u7F6E\u6700\u5927\u503C NOCYCLE -- \u4E00\u76F4\u7D2F\u52A0\uFF0C\u4E0D\u5FAA\u73AF CACHE 10;</p><p>\u4E00\u65E6\u5B9A\u4E49\u4E86emp_sequence\uFF0C\u4F60\u5C31\u53EF\u4EE5\u7528CURRVAL\uFF0CNEXTVAL CURRVAL=\u8FD4\u56DEsequence\u7684\u5F53\u524D\u503C NEXTVAL=\u589E\u52A0sequence\u7684\u503C\uFF0C\u7136\u540E\u8FD4\u56DEsequence\u503C \u6BD4\u5982\uFF1A emp_sequence.CURRVAL emp_sequence.NEXTVAL</p><p>\u53EF\u4EE5\u4F7F\u7528sequence\u7684\u5730\u65B9\uFF1A</p><ul><li>\u4E0D\u5305\u542B\u5B50\u67E5\u8BE2\u3001snapshot\u3001VIEW\u7684 SELECT \u8BED\u53E5</li><li>INSERT\u8BED\u53E5\u7684\u5B50\u67E5\u8BE2\u4E2D</li><li>NSERT\u8BED\u53E5\u7684VALUES\u4E2D</li><li>UPDATE \u7684 SET\u4E2D</li></ul><p>\u53EF\u4EE5\u770B\u5982\u4E0B\u4F8B\u5B50\uFF1A INSERT INTO emp VALUES (empseq.nextval, &#39;LEWIS&#39;, &#39;CLERK&#39;,7902, SYSDATE, 1200, NULL, 20);</p><p>SELECT empseq.currval FROM DUAL;</p><p>\u4F46\u662F\u8981\u6CE8\u610F\u7684\u662F\uFF1A</p><ul><li>\u7B2C\u4E00\u6B21NEXTVAL\u8FD4\u56DE\u7684\u662F\u521D\u59CB\u503C\uFF1B\u968F\u540E\u7684NEXTVAL\u4F1A\u81EA\u52A8\u589E\u52A0\u4F60\u5B9A\u4E49\u7684INCREMENT BY\u503C\uFF0C \u7136\u540E\u8FD4\u56DE\u589E\u52A0\u540E\u7684\u503C\u3002CURRVAL \u603B\u662F\u8FD4\u56DE\u5F53\u524Dsequence\u7684\u503C\uFF0C\u4F46\u662F\u5728\u7B2C\u4E00\u6B21NEXTVAL \u521D\u59CB\u5316\u4E4B\u540E\u624D\u80FD\u4F7F\u7528CURRVAL\uFF0C\u5426\u5219\u4F1A\u51FA\u9519\u3002\u4E00\u6B21NEXTVAL\u4F1A\u589E\u52A0\u4E00\u6B21sequence\u7684\u503C\uFF0C \u6240\u4EE5\u5982\u679C\u4F60\u5728\u540C\u4E00\u4E2A\u8BED\u53E5\u91CC\u9762\u4F7F\u7528\u591A\u4E2ANEXTVAL\uFF0C\u5176\u503C\u5C31\u662F\u4E0D\u4E00\u6837\u7684\u3002\u660E\u767D\uFF1F</li><li>\u5982\u679C\u6307\u5B9ACACHE\u503C\uFF0Coracle\u5C31\u53EF\u4EE5\u9884\u5148\u5728\u5185\u5B58\u91CC\u9762\u653E\u7F6E\u4E00\u4E9Bsequence\uFF0C\u8FD9\u6837\u5B58\u53D6\u7684\u5FEB \u4E9B\u3002 cache\u91CC\u9762\u7684\u53D6\u5B8C\u540E\uFF0Coracle\u81EA\u52A8\u518D\u53D6\u4E00\u7EC4\u5230cache\u3002 \u4F7F\u7528cache\u6216\u8BB8\u4F1A\u8DF3\u53F7\uFF0C \u6BD4\u5982 \u6570\u636E\u5E93\u7A81\u7136\u4E0D\u6B63\u5E38down\u6389\uFF08shutdown abort),cache\u4E2D\u7684sequence\u5C31\u4F1A\u4E22\u5931. \u6240\u4EE5\u53EF \u4EE5\u5728create sequence\u7684\u65F6\u5019\u7528nocache\u9632\u6B62\u8FD9\u79CD\u60C5\u51B5\u3002</li><li>nextval\u7684\u503C\u662F\u6BCF\u8C03\u7528\u4E00\u6B21\u5C31\u589E\u52A0\u4E00\u6B21\uFF1Bcurrval\u7684\u503C\u8C03\u7528\u65F6\uFF0C\u8FD8\u662F\u548C\u81EA\u8EAB\u4F1A\u8BDD\u7684\u5F53\u524D\u503C\u4E00\u6837\u3002</li></ul><h4 id="_2\u3001-alter-sequence" tabindex="-1"><a class="header-anchor" href="#_2\u3001-alter-sequence" aria-hidden="true">#</a> 2\u3001 Alter sequence</h4><p>\u4F60\u6216\u8005\u662F\u8BE5sequence\u7684owner\uFF0C\u6216\u8005\u6709ALTER ANY sequence\u6743\u9650\u624D\u80FD\u6539\u52A8sequence\u3002 \u53EF \u4EE5alter\u9664start\u503C\u4E4B\u5916\u7684\u6240\u6709sequence\u53C2\u6570\u3002\u5982\u679C\u60F3\u8981\u6539\u53D8start\u503C\uFF0C\u5FC5\u987Bdrop sequence \u518Dre-create\u3002\u4F8B\u5B50\uFF1A ALTER sequence emp_sequence INCREMENT BY 10 MAXVALUE 10000 CYCLE -- \u523010000\u540E\u4ECE\u5934\u5F00\u59CB NOCACHE;</p><p>\u5F71\u54CDsequence\u7684\u521D\u59CB\u5316\u53C2\u6570\uFF1A sequence_CACHE_ENTRIES = \u8BBE\u7F6E\u80FD\u540C\u65F6\u88ABcache\u7684sequence\u6570\u76EE\u3002</p><p>\u53EF\u4EE5\u5F88\u7B80\u5355\u7684Drop sequence DROP sequence order_seq;</p><h4 id="_3\u3001-\u83B7\u53D6\u5E8F\u5217\u7684\u4E0B\u4E00\u4E2A\u503C" tabindex="-1"><a class="header-anchor" href="#_3\u3001-\u83B7\u53D6\u5E8F\u5217\u7684\u4E0B\u4E00\u4E2A\u503C" aria-hidden="true">#</a> 3\u3001 \u83B7\u53D6\u5E8F\u5217\u7684\u4E0B\u4E00\u4E2A\u503C</h4><p>select ctg_fault_list_id_seq.nextval from dual dual \uFF1A\u662Foracle \u6570\u636E\u5E93\u4E2D\u7684\u865A\u62DF\u8868\uFF0C\u5E76\u4E0D\u662F\u771F\u5B9E\u5B58\u5728\u7684 XX_id_seq\uFF1A\u8FD9\u4E2A\u662F\u6211\u4EEC\u521B\u5EFA\u5E8F\u5217\u65F6\u81EA\u5B9A\u4E49\u7684\u4E00\u4E2A\u5E8F\u5217\u540D\u79F0 ctg_fault_list_id_seq.nextval\uFF1A\u8FD9\u4E2A\u662F\u53D6\u51FA\u5E8F\u5217\u7684\u4E0B\u4E00\u4E2A\u503C\uFF0C</p>',17),u=[r];function t(l,q){return c(),a("div",null,u)}const _=e(n,[["render",t],["__file","sequence.html.vue"]]);export{_ as default};
